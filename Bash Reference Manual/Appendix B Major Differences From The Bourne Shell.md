
## Appendix B Major Differences From The Bourne Shell附录 B 与 Bourne Shell 的主要区别

Bash implements essentially the same grammar, parameter and variable expansion, redirection, and quoting as the Bourne Shell. Bash uses the <small>POSIX</small> standard as the specification of how these features are to be implemented. There are some differences between the traditional Bourne shell and Bash; this section quickly details the differences of significance. A number of these differences are explained in greater depth in previous sections. This section uses the version of `sh` included in SVR4.2 (the last version of the historical Bourne shell) as the baseline reference. Bash 使用 <small>POSIX</small>本节使用 SVR4.2 中包含的 `sh`Bash 实现了基本相同的语法、参数和 变量扩展、重定向和引用为 Bourne Shell。 标准作为 如何实现这些功能。 有一些 传统 Bourne shell 和 Bash 之间的区别;这 部分快速详细介绍了重要性的差异。 一个 这些差异的数量在 前面的部分。 版本（ 历史 Bourne shell 的最后一个版本）作为基线参考。

-   Bash is <small>POSIX</small>\-conformant, even where the <small>POSIX</small> specification differs from traditional `sh` behavior (see [Bash POSIX Mode](https://www.gnu.org/software/bash/manual/bash.html#Bash-POSIX-Mode)). Bash 符合 <small>POSIX</small> 标准，即使 <small>POSIX</small>与传统的 `sh` 行为不同（参见 [Bash POSIX 模式](https://www.gnu.org/software/bash/manual/bash.html#Bash-POSIX-Mode) 规范 ）。
-   Bash has multi-character invocation options (see [Invoking Bash](https://www.gnu.org/software/bash/manual/bash.html#Invoking-Bash)). Bash 具有多字符调用选项（请参阅[调用 Bash](https://www.gnu.org/software/bash/manual/bash.html#Invoking-Bash)）。
-   Bash has command-line editing (see [Command Line Editing](https://www.gnu.org/software/bash/manual/bash.html#Command-Line-Editing)) and the `bind` builtin. Bash 具有命令行编辑功能（请参阅[命令行编辑](https://www.gnu.org/software/bash/manual/bash.html#Command-Line-Editing)内置`bind`）和 。
-   Bash provides a programmable word completion mechanism (see [Programmable Completion](https://www.gnu.org/software/bash/manual/bash.html#Programmable-Completion)), and builtin commands `complete`, `compgen`, and `compopt`, to manipulate it. （请参阅[可编程完成](https://www.gnu.org/software/bash/manual/bash.html#Programmable-Completion)`complete`、`compgen` 和 `compopt`Bash 提供了可编程的单词补全机制 ）和内置命令 ，改为 操纵它。
-   Bash has command history (see [Bash History Facilities](https://www.gnu.org/software/bash/manual/bash.html#Bash-History-Facilities)) and the `history` and `fc` builtins to manipulate it. The Bash history list maintains timestamp information and uses the value of the `HISTTIMEFORMAT` variable to display it. Bash 具有命令历史记录（请参阅 [Bash 历史记录工具](https://www.gnu.org/software/bash/manual/bash.html#Bash-History-Facilities)`history`和 `fc``HISTTIMEFORMAT`）和 内置来操纵它。 Bash 历史记录列表维护时间戳信息，并使用 变量的值来显示它。
-   Bash implements `csh`\-like history expansion (see [History Expansion](https://www.gnu.org/software/bash/manual/bash.html#History-Interaction)). Bash 实现了类似 `csh`（请参阅[历史扩展](https://www.gnu.org/software/bash/manual/bash.html#History-Interaction) 的历史记录扩展 ）。
-   Bash has one-dimensional array variables (see [Arrays](https://www.gnu.org/software/bash/manual/bash.html#Arrays)), and the appropriate variable expansions and assignment syntax to use them. Several of the Bash builtins take options to act on arrays. Bash provides a number of built-in array variables. Bash 具有一维数组变量（参见 [Arrays](https://www.gnu.org/software/bash/manual/bash.html#Arrays)），并且 适当的变量扩展和赋值语法来使用它们。 一些 Bash 内置函数采用选项来操作数组。 Bash 提供了许多内置数组变量。
-   The `$'…'` quoting syntax, which expands ANSI-C backslash-escaped characters in the text between the single quotes, is supported (see [ANSI-C Quoting](https://www.gnu.org/software/bash/manual/bash.html#ANSI_002dC-Quoting)). `$'…'`受支持（请参阅 [ANSI-C 引用](https://www.gnu.org/software/bash/manual/bash.html#ANSI_002dC-Quoting) 引用语法，它扩展了 ANSI-C 单引号之间的文本中的反斜杠转义字符， ）。
-   Bash supports the `$"…"` quoting syntax to do locale-specific translation of the characters between the double quotes. The \-D, \--dump-strings, and \--dump-po-strings invocation options list the translatable strings found in a script (see [Locale-Specific Translation](https://www.gnu.org/software/bash/manual/bash.html#Locale-Translation)). Bash 支持 `$"…"`引号。 \-D、\--dump-strings 和 \--dump-po-strings（请参阅[特定于区域设置的翻译](https://www.gnu.org/software/bash/manual/bash.html#Locale-Translation)，引用语法来做 特定于区域设置的字符在双精度之间的翻译 调用选项列出在脚本中找到的可翻译字符串 ）。
-   Bash implements the `!` keyword to negate the return value of a pipeline (see [Pipelines](https://www.gnu.org/software/bash/manual/bash.html#Pipelines)). Very useful when an `if` statement needs to act only if a test fails. The Bash ‘\-o pipefail’ option to `set` will cause a pipeline to return a failure status if any command fails. Bash 实现 `!`管道（请参阅[管道](https://www.gnu.org/software/bash/manual/bash.html#Pipelines)当 `if``set`的 Bash '\-o pipefail 关键字来否定 ）。 语句仅在测试失败时才需要执行操作时，非常有用。 ' 选项将导致管道 如果任何命令失败，则返回失败状态。
-   Bash has the `time` reserved word and command timing (see [Pipelines](https://www.gnu.org/software/bash/manual/bash.html#Pipelines)). The display of the timing statistics may be controlled with the `TIMEFORMAT` variable. Bash 具有`time`的单词和命令计时（请参阅[管道](https://www.gnu.org/software/bash/manual/bash.html#Pipelines)`TIMEFORMAT`）。 时序统计信息的显示可以通过以下方式控制 变量。
-   Bash implements the `for (( expr1 ; expr2 ; expr3 ))` arithmetic for command, similar to the C language (see [Looping Constructs](https://www.gnu.org/software/bash/manual/bash.html#Looping-Constructs)). Bash 实现了 for （（ expr1 ;expr2 ;expr3命令的算术，类似于 C 语言（参见[循环构造](https://www.gnu.org/software/bash/manual/bash.html#Looping-Constructs) ）） ）。
-   Bash includes the `select` compound command, which allows the generation of simple menus (see [Conditional Constructs](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs)). Bash 包括 `select`生成简单菜单（请参阅[条件构造](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs) compound 命令，该命令允许 ）。
-   Bash includes the `[[` compound command, which makes conditional testing part of the shell grammar (see [Conditional Constructs](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs)), including optional regular expression matching. Bash 包括 `[[`测试部分 shell 语法（参见[条件结构](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs) compound 命令，它使条件 ），包括 可选的正则表达式匹配。
-   Bash provides optional case-insensitive matching for the `case` and `[[` constructs. Bash 为 `case``[[` 和 构造。
-   Bash includes brace expansion (see [Brace Expansion](https://www.gnu.org/software/bash/manual/bash.html#Brace-Expansion)) and tilde expansion (see [Tilde Expansion](https://www.gnu.org/software/bash/manual/bash.html#Tilde-Expansion)). Bash 包括大括号扩展（请参阅[大括号扩展](https://www.gnu.org/software/bash/manual/bash.html#Brace-Expansion)扩展（请参阅[波浪号扩展](https://www.gnu.org/software/bash/manual/bash.html#Tilde-Expansion)）和波浪号 ）。
-   Bash implements command aliases and the `alias` and `unalias` builtins (see [Aliases](https://www.gnu.org/software/bash/manual/bash.html#Aliases)). Bash 实现命令别名以及`alias`和`unalias`builtins（请参阅[别名](https://www.gnu.org/software/bash/manual/bash.html#Aliases) ）。
-   Bash provides shell arithmetic, the `((` compound command (see [Conditional Constructs](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs)), and arithmetic expansion (see [Shell Arithmetic](https://www.gnu.org/software/bash/manual/bash.html#Shell-Arithmetic)). Bash 提供了 shell 算术，`((`（参见[条件结构](https://www.gnu.org/software/bash/manual/bash.html#Conditional-Constructs)和算术扩展（参见[壳牌算术](https://www.gnu.org/software/bash/manual/bash.html#Shell-Arithmetic) 复合命令 ）， ）。
-   Variables present in the shell’s initial environment are automatically exported to child processes. The Bourne shell does not normally do this unless the variables are explicitly marked using the `export` command. 除非使用`export`shell 初始环境中存在的变量是自动的 导出到子进程。 Bourne shell 通常不会这样做 显式标记变量 命令。
-   Bash supports the ‘+=’ assignment operator, which appends to the value of the variable named on the left hand side. Bash 支持“+=”赋值运算符，该运算符追加到值 在左侧命名的变量。
-   Bash includes the <small>POSIX</small> pattern removal ‘%’, ‘#’, ‘%%’ and ‘##’ expansions to remove leading or trailing substrings from variable values (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). Bash 包括 <small>POSIX</small> 模式删除 '%'、'#'、'%%和 '##变量值（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)' ' 扩展以从中删除前导或尾随子字符串 ）。
-   The expansion `${#xx}`, which returns the length of `${xx}`, is supported (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). 扩展 `${#xx}`，返回 `${xx}`受支持（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion) 的长度， ）。
-   The expansion `${var:`offset`[:`length`]}`, which expands to the substring of `var`’s value of length length, beginning at offset, is present (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). 扩展 `${var:`offset`[:`length`]}`它扩展到 `var`length，从offset（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)， 的长度值的子字符串 量开始，存在 ）。
-   The expansion `${var/[/]`pattern`[/`replacement`]}`, which matches pattern and replaces it with replacement in the value of var, is available (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). ${var/\[/\]pattern`[/`replacement`]}`匹配pattern并将其replacementvar 的值可用（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)扩展 ， ）。
-   The expansion `${!prefix*}` expansion, which expands to the names of all shell variables whose names begin with prefix, is available (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). 扩展 ${！prefix名称以前prefix可用（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)\*} 扩展，扩展为 开头的所有 shell 变量的名称， ）。
-   Bash has indirect variable expansion using `${!word}` (see [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)). Bash 使用 `${!word}`（请参阅 [Shell 参数扩展](https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion) 进行间接变量扩展 ）。
-   Bash can expand positional parameters beyond `$9` using `${num}`. Bash 可以使用以下方法将位置参数扩展到 `$9`${num以上 }。
-   The <small>POSIX</small> `$()` form of command substitution is implemented (see [Command Substitution](https://www.gnu.org/software/bash/manual/bash.html#Command-Substitution)), and preferred to the Bourne shell’s ` `` ` (which is also implemented for backwards compatibility). 命令替换的 <small>POSIX</small>`$()`实现（参见[命令替换](https://www.gnu.org/software/bash/manual/bash.html#Command-Substitution)并且更喜欢 Bourne shell 的 ` `` ` 形式 ）， （其中 也实现了向后兼容性）。
-   Bash has process substitution (see [Process Substitution](https://www.gnu.org/software/bash/manual/bash.html#Process-Substitution)). Bash 具有进程替换功能（请参阅[进程替换](https://www.gnu.org/software/bash/manual/bash.html#Process-Substitution)）。
-   Bash automatically assigns variables that provide information about the current user (`UID`, `EUID`, and `GROUPS`), the current host (`HOSTTYPE`, `OSTYPE`, `MACHTYPE`, and `HOSTNAME`), and the instance of Bash that is running (`BASH`, `BASH_VERSION`, and `BASH_VERSINFO`). See [Bash Variables](https://www.gnu.org/software/bash/manual/bash.html#Bash-Variables), for details. 当前用户（`UID`、`EUID` 和 `GROUPS`（`HOSTTYPE``OSTYPE``MACHTYPE` 和 `HOSTNAME`以及正在运行的 Bash 实例（`BASH``BASH_VERSION` 和 `BASH_VERSINFO`）。 请参阅 [Bash 变量](https://www.gnu.org/software/bash/manual/bash.html#Bash-Variables)Bash 会自动分配变量，这些变量提供有关 当前主机 ， 了解详情。
-   The `IFS` variable is used to split only the results of expansion, not all words (see [Word Splitting](https://www.gnu.org/software/bash/manual/bash.html#Word-Splitting)). This closes a longstanding shell security hole. `IFS`不是所有的单词（参见[单词拆分](https://www.gnu.org/software/bash/manual/bash.html#Word-Splitting) 变量仅用于拆分展开结果， ）。 这关闭了一个长期存在的shell安全漏洞。
-   The filename expansion bracket expression code uses ‘!’ and ‘^’ to negate the set of characters between the brackets. The Bourne shell uses only ‘!’. 文件名扩展括号表达式代码使用 '!' 和 '^Bourne shell 仅使用 '!' 以否定括号之间的字符集。 '。
-   Bash implements the full set of <small>POSIX</small> filename expansion operators, including character classes, equivalence classes, and collating symbols (see [Filename Expansion](https://www.gnu.org/software/bash/manual/bash.html#Filename-Expansion)). Bash 实现了全套 <small>POSIX</small>整理符号（请参阅[文件名扩展](https://www.gnu.org/software/bash/manual/bash.html#Filename-Expansion) 文件名扩展算子， 包括字符类、等价类和 ）。
-   Bash implements extended pattern matching features when the `extglob` shell option is enabled (see [Pattern Matching](https://www.gnu.org/software/bash/manual/bash.html#Pattern-Matching)). Bash 在 `extglob`启用 shell 选项（请参阅[模式匹配](https://www.gnu.org/software/bash/manual/bash.html#Pattern-Matching) 时实现扩展的模式匹配功能 ）。
-   It is possible to have a variable and a function with the same name; `sh` does not separate the two name spaces. `sh`可以有一个同名的变量和一个函数; 不会分隔两个命名空间。
-   Bash functions are permitted to have local variables using the `local` builtin, and thus useful recursive functions may be written (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). `local`（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)允许 Bash 函数具有局部变量，使用 内置，因此可以编写有用的递归函数 ）。
-   Variable assignments preceding commands affect only that command, even builtins and functions (see [Environment](https://www.gnu.org/software/bash/manual/bash.html#Environment)). In `sh`, all variable assignments preceding commands are global unless the command is executed from the file system. 内置函数和函数（请参阅[环境](https://www.gnu.org/software/bash/manual/bash.html#Environment)在 `sh`命令前面的变量赋值仅影响该命令，甚至 ）。 中，所有变量赋值 前面的命令是全局命令，除非命令是从 文件系统。
-   Bash performs filename expansion on filenames specified as operands to input and output redirection operators (see [Redirections](https://www.gnu.org/software/bash/manual/bash.html#Redirections)). 输入和输出重定向运算符（请参阅[重定向](https://www.gnu.org/software/bash/manual/bash.html#Redirections)Bash 对指定为操作数的文件名执行文件名扩展 ）。
-   Bash contains the ‘<>’ redirection operator, allowing a file to be opened for both reading and writing, and the ‘&>’ redirection operator, for directing standard output and standard error to the same file (see [Redirections](https://www.gnu.org/software/bash/manual/bash.html#Redirections)). Bash 包含“<>打开读取和写入，以及“&>文件（请参阅[重定向](https://www.gnu.org/software/bash/manual/bash.html#Redirections)”重定向运算符，允许文件 ”重定向 算子，用于将标准输出和标准误差定向到同一 ）。
-   Bash includes the ‘<<<’ redirection operator, allowing a string to be used as the standard input to a command. Bash 包含“<<<”重定向运算符，允许字符串 用作命令的标准输入。
-   Bash implements the ‘\[n\]<&word’ and ‘\[n\]>&word’ redirection operators, which move one file descriptor to another. Bash 实现了 '\[n\]<&word' 和 '\[n\]>word' 重定向运算符，用于将一个文件描述符移动到另一个文件描述符。
-   Bash treats a number of filenames specially when they are used in redirection operators (see [Redirections](https://www.gnu.org/software/bash/manual/bash.html#Redirections)). 用于重定向运算符（请参阅[重定向](https://www.gnu.org/software/bash/manual/bash.html#Redirections)Bash 专门处理许多文件名，当它们 ）。
-   Bash can open network connections to arbitrary machines and services with the redirection operators (see [Redirections](https://www.gnu.org/software/bash/manual/bash.html#Redirections)). 替换为重定向运算符（请参阅[重定向](https://www.gnu.org/software/bash/manual/bash.html#Redirections)Bash 可以打开与任意计算机和服务的网络连接 ）。
-   The `noclobber` option is available to avoid overwriting existing files with output redirection (see [The Set Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)). The ‘\>|’ redirection operator may be used to override `noclobber`. `noclobber`具有输出重定向的文件（请参阅[内置设置](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)'\>|' 重定向运算符可用于覆盖 `noclobber` 选项可用于避免覆盖现有的 ）。 。
-   The Bash `cd` and `pwd` builtins (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)) each take \-L and \-P options to switch between logical and physical modes. Bash `cd` 和 `pwd` 内置（参见 [Bourne Shell 内置](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)每个都采用 \-L 和 \-P） 选项在逻辑和 物理模式。
-   Bash allows a function to override a builtin with the same name, and provides access to that builtin’s functionality within the function via the `builtin` and `command` builtins (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). `builtin` 和`command` builtin（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)Bash 允许函数重写同名的内置函数，并提供 通过以下方式访问函数中的内置功能 ）。
-   The `command` builtin allows selective disabling of functions when command lookup is performed (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). 内置`command`执行命令查找时（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)允许有选择地禁用功能 ）。
-   Individual builtins may be enabled or disabled using the `enable` builtin (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). 可以使用 `enable`builtin（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins) 启用或禁用单个内置 ）。
-   The Bash `exec` builtin takes additional options that allow users to control the contents of the environment passed to the executed command, and what the zeroth argument to the command is to be (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)). 内置的 Bash `exec`（请参阅 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins) 采用其他选项，允许用户使用 控制传递给执行的环境内容 命令，以及该命令的第零个参数是什么 ）。
-   Shell functions may be exported to children via the environment using `export -f` (see [Shell Functions](https://www.gnu.org/software/bash/manual/bash.html#Shell-Functions)). 使用 `export -f`（请参阅 [Shell 函数](https://www.gnu.org/software/bash/manual/bash.html#Shell-Functions)Shell 函数可以通过环境导出到子级 ）。
-   The Bash `export`, `readonly`, and `declare` builtins can take a \-f option to act on shell functions, a \-p option to display variables with various attributes set in a format that can be used as shell input, a \-n option to remove various variable attributes, and ‘name=value’ arguments to set variable attributes and values simultaneously. Bash `export`、`readonly`和`declare`使用 \-f 选项来操作 shell 函数，\-p用作 shell 输入，\-n属性，以及用于设置变量属性的“name=value内置项可以 选项来操作 显示具有各种属性的变量，其格式可以是 选项来删除各种变量 ”参数 和值同时。
-   The Bash `hash` builtin allows a name to be associated with an arbitrary filename, even when that filename cannot be found by searching the `$PATH`, using ‘hash -p’ (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)). 内置的 Bash `hash`使用“hash -p”搜索`$PATH`（请参阅 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)允许将名称与 任意文件名，即使无法通过以下方式找到该文件名 ）。
-   Bash includes a `help` builtin for quick reference to shell facilities (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). Bash 包含一个内置`help`设施（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)，用于快速参考 shell ）。
-   The `printf` builtin is available to display formatted output (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). `printf`（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins) 内置可用于显示格式化的输出 ）。
-   The Bash `read` builtin (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)) will read a line ending in ‘\\’ with the \-r option, and will use the `REPLY` variable as a default if no non-option arguments are supplied. The Bash `read` builtin also accepts a prompt string with the \-p option and will use Readline to obtain the line when given the \-e option. The `read` builtin also has additional options to control input: the \-s option will turn off echoing of input characters as they are read, the \-t option will allow `read` to time out if input does not arrive within a specified number of seconds, the \-n option will allow reading only a specified number of characters rather than a full line, and the \-d option will read until a particular character rather than newline. 内置 Bash `read`（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)将读取以 \\\-r 选项，并将使用 `REPLY`内置的 Bash `read`还接受带有 \-pReadline 在给定 \-e`read`\-s它们被读取，\-t 选项将允许`read`\-n字符而不是整行，\-d） ' 结尾的行 变量作为 如果未提供非选项参数，则为 default。 选项的提示字符串，并将使用 选项时获取该行。 内置还具有控制输入的附加选项： 选项将关闭输入字符的回显，因为 超时 如果输入未在指定的秒数内到达，则 选项将只允许读取指定数量的 选项将读取 直到一个特定的字符而不是换行符。
-   The `return` builtin may be used to abort execution of scripts executed with the `.` or `source` builtins (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)). 内置`return`使用 `.` 或 `source`（请参阅 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)可用于中止脚本的执行 内置项执行 ）。
-   Bash includes the `shopt` builtin, for finer control of shell optional capabilities (see [The Shopt Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Shopt-Builtin)), and allows these options to be set and unset at shell invocation (see [Invoking Bash](https://www.gnu.org/software/bash/manual/bash.html#Invoking-Bash)). Bash 内置了 `shopt`可选功能（请参阅 [Shopt 内置功能](https://www.gnu.org/software/bash/manual/bash.html#The-Shopt-Builtin)在 shell 调用时进行设置和取消设置（请参阅[调用 Bash](https://www.gnu.org/software/bash/manual/bash.html#Invoking-Bash)，用于更精细地控制 shell ），并允许这些选项 ）。
-   Bash has much more optional behavior controllable with the `set` builtin (see [The Set Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)). Bash 具有更多可选行为，可通过`set`builtin（参见 [The Set Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)进行控制 ）。
-   The ‘\-x’ (xtrace) option displays commands other than simple commands when performing an execution trace (see [The Set Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)). “\-x”（xtrace（请参阅[内置设置](https://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin)） 选项显示除 执行执行跟踪时的简单命令 ）。
-   The `test` builtin (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)) is slightly different, as it implements the <small>POSIX</small> algorithm, which specifies the behavior based on the number of arguments. 内置`test`（参见 [Bourne Shell 内置](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)略有不同，因为它实现了 <small>POSIX</small>） 算法， 它根据参数的数量指定行为。
-   Bash includes the `caller` builtin, which displays the context of any active subroutine call (a shell function or a script executed with the `.` or `source` builtins). This supports the Bash debugger. Bash 包含内置`caller``.` 或`source`，它显示 任何活动的子例程调用（shell 函数或脚本执行 内置）。 这支持 Bash 调试器。
-   The `trap` builtin (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)) allows a `DEBUG` pseudo-signal specification, similar to `EXIT`. Commands specified with a `DEBUG` trap are executed before every simple command, `for` command, `case` command, `select` command, every arithmetic `for` command, and before the first command executes in a shell function. The `DEBUG` trap is not inherited by shell functions unless the function has been given the `trace` attribute or the `functrace` option has been enabled using the `shopt` builtin. The `extdebug` shell option has additional effects on the `DEBUG` trap. 内置`trap`（参见 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)`DEBUG`伪信号规范，类似于`EXIT`使用 `DEBUG`简单命令， `for` 命令， `case``select`命令`for``DEBUG`函数被赋予了 `trace``functrace` 选项已使用 `shopt``extdebug``DEBUG`）允许 trap 指定的命令在每 命令， 算术以及之前 第一个命令在 shell 函数中执行。 陷阱不由 shell 函数继承，除非 属性或 内置启用。 shell 选项对 陷阱。
    
    The `trap` builtin (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)) allows an `ERR` pseudo-signal specification, similar to `EXIT` and `DEBUG`. Commands specified with an `ERR` trap are executed after a simple command fails, with a few exceptions. The `ERR` trap is not inherited by shell functions unless the `-o errtrace` option to the `set` builtin is enabled. 内置`trap`（参见 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)`ERR` 伪信号规范，类似于 `EXIT` 和 `DEBUG`使用 `ERR`shell 函数不会继承 `ERR``-o errtrace` 启用`set`）允许 陷阱指定的命令在简单的 命令失败，但有一些例外。 陷阱，除非 内置的 errtrace 选项。
    
    The `trap` builtin (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)) allows a `RETURN` pseudo-signal specification, similar to `EXIT` and `DEBUG`. Commands specified with a `RETURN` trap are executed before execution resumes after a shell function or a shell script executed with `.` or `source` returns. The `RETURN` trap is not inherited by shell functions unless the function has been given the `trace` attribute or the `functrace` option has been enabled using the `shopt` builtin. 内置`trap`（参见 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)`RETURN``EXIT`并`DEBUG`使用 `RETURN``.`或`source``RETURN`函数被赋予了 `trace``functrace` 选项已使用 `shopt`）允许 伪信号规范，类似于 。 陷阱指定的命令在 在执行 shell 函数或 shell 脚本后恢复执行 返回。 陷阱不由 shell 函数继承，除非 属性或 内置启用。
    
-   The Bash `type` builtin is more extensive and gives more information about the names it finds (see [Bash Builtin Commands](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)). 内置的 Bash `type`关于它找到的名称（请参阅 [Bash 内置命令](https://www.gnu.org/software/bash/manual/bash.html#Bash-Builtins)更广泛，并提供更多信息 ）。
-   The Bash `umask` builtin permits a \-p option to cause the output to be displayed in the form of a `umask` command that may be reused as input (see [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins)). 内置的 Bash `umask` 允许 \-p要以 `umask`可以重用为输入（参见 [Bourne Shell Builtins](https://www.gnu.org/software/bash/manual/bash.html#Bourne-Shell-Builtins) 选项导致 命令形式显示的输出 ）。
-   Bash implements a `csh`\-like directory stack, and provides the `pushd`, `popd`, and `dirs` builtins to manipulate it (see [The Directory Stack](https://www.gnu.org/software/bash/manual/bash.html#The-Directory-Stack)). Bash also makes the directory stack visible as the value of the `DIRSTACK` shell variable. Bash 实现了一个类似 `csh``pushd`、`popd` 和 `dirs`（请参阅[目录堆栈](https://www.gnu.org/software/bash/manual/bash.html#The-Directory-Stack)`DIRSTACK` 的目录堆栈，并提供 内置来操作它 ）。 Bash 还使目录堆栈显示为 shell 变量。
-   Bash interprets special backslash-escaped characters in the prompt strings when interactive (see [Controlling the Prompt](https://www.gnu.org/software/bash/manual/bash.html#Controlling-the-Prompt)). 交互时的字符串（请参阅[控制提示](https://www.gnu.org/software/bash/manual/bash.html#Controlling-the-Prompt)Bash 在提示中解释特殊的反斜杠转义字符 符）。
-   The Bash restricted mode is more useful (see [The Restricted Shell](https://www.gnu.org/software/bash/manual/bash.html#The-Restricted-Shell)); the SVR4.2 shell restricted mode is too limited. Bash 受限模式更有用（参见 [The Restricted Shell](https://www.gnu.org/software/bash/manual/bash.html#The-Restricted-Shell)）; SVR4.2 shell 受限模式过于受限。
-   The `disown` builtin can remove a job from the internal shell job table (see [Job Control Builtins](https://www.gnu.org/software/bash/manual/bash.html#Job-Control-Builtins)) or suppress the sending of `SIGHUP` to a job when the shell exits as the result of a `SIGHUP`. `disown`作业表（请参阅[作业控制内置）](https://www.gnu.org/software/bash/manual/bash.html#Job-Control-Builtins)的 `SIGHUP``SIGHUP` 内置函数可以从内部 shell 中删除作业 或禁止发送 到作业，当 shell 退出时，由于 。
-   Bash includes a number of features to support a separate debugger for shell scripts. Bash 包含许多功能来支持单独的调试器 shell 脚本。
-   The SVR4.2 shell has two privilege-related builtins (`mldmode` and `priv`) not present in Bash. （`mldmode` 和 `priv`SVR4.2 shell 有两个与权限相关的内置函数 ） 在 Bash 中不存在。
-   Bash does not have the `stop` or `newgrp` builtins. Bash 没有内置 `stop` 或 `newgrp`。
-   Bash does not use the `SHACCT` variable or perform shell accounting. Bash 不使用 `SHACCT` 变量或执行 shell 记帐。
-   The SVR4.2 `sh` uses a `TIMEOUT` variable like Bash uses `TMOUT`. SVR4.2 `sh` 使用 `TIMEOUT``TMOUT` 变量，就像 Bash 使用 。

More features unique to Bash may be found in [Bash Features](https://www.gnu.org/software/bash/manual/bash.html#Bash-Features). 可以在 [Bash 功能](https://www.gnu.org/software/bash/manual/bash.html#Bash-Features)中找到 Bash 独有的更多功能。

-   [Implementation Differences From The SVR4.2 Shell与 SVR4.2 Shell 的实现差异](https://www.gnu.org/software/bash/manual/bash.html#Implementation-Differences-From-The-SVR4_002e2-Shell)

### B.1 Implementation Differences From The SVR4.2 ShellB.1 与 SVR4.2 Shell 的实现差异

Since Bash is a completely new implementation, it does not suffer from many of the limitations of the SVR4.2 shell. For instance: 由于 Bash 是一个全新的实现，因此它不会受到 SVR4.2 shell 的许多限制。 例如：

-   Bash does not fork a subshell when redirecting into or out of a shell control structure such as an `if` or `while` statement. shell 控制结构，例如 `if` 或 `while`Bash 在重定向到或退出子 shell 时不会分叉子 shell 陈述。
-   Bash does not allow unbalanced quotes. The SVR4.2 shell will silently insert a needed closing quote at `EOF` under certain circumstances. This can be the cause of some hard-to-find errors. 在某些情况下，在 `EOF`Bash 不允许不平衡的引号。 SVR4.2 shell 将静默 中插入所需的收盘报价。 这可能是一些难以找到的错误的原因。
-   The SVR4.2 shell uses a baroque memory management scheme based on trapping `SIGSEGV`. If the shell is started from a process with `SIGSEGV` blocked (e.g., by using the `system()` C library function call), it misbehaves badly. 捕获 `SIGSEGV``SIGSEGV` 被阻止（例如，通过使用 `system()`SVR4.2 shell 使用基于 。 如果 shell 是从具有 C 库 函数调用），它行为不端。
-   In a questionable attempt at security, the SVR4.2 shell, when invoked without the \-p option, will alter its real and effective <small>UID</small> and <small>GID</small> if they are less than some magic threshold value, commonly 100. This can lead to unexpected results. 在没有 \-p以及有效的 <small>UID</small> 和 <small>GID</small>在一次可疑的安全性尝试中，SVR4.2 shell， 选项的情况下调用时，将改变其实际 （如果它们低于某些值） 魔术阈值，通常为 100。 这可能会导致意想不到的结果。
-   The SVR4.2 shell does not allow users to trap `SIGSEGV`, `SIGALRM`, or `SIGCHLD`. SVR4.2 shell 不允许用户捕获 `SIGSEGV``SIGALRM` 或 `SIGCHLD`， 。
-   The SVR4.2 shell does not allow the `IFS`, `MAILCHECK`, `PATH`, `PS1`, or `PS2` variables to be unset. SVR4.2 shell 不允许 `IFS`、`MAILCHECK`要取消设置的 `PATH``PS1` 或 `PS2` 变量。
-   The SVR4.2 shell treats ‘^’ as the undocumented equivalent of ‘|’. SVR4.2 shell 将 '^'|' 视为未记录的等价物 '。
-   Bash allows multiple option arguments when it is invoked (`-x -v`); the SVR4.2 shell allows only one option argument (`-xv`). In fact, some versions of the shell dump core if the second argument begins with a ‘\-’. Bash 在调用时允许多个选项参数 （`-x -v`SVR4.2 shell 只允许一个选项参数 （`-xv`带有“\-）; ）。 在 事实上，如果第二个参数开始，某些版本的 shell 转储核心 ”。
-   The SVR4.2 shell exits a script if any builtin fails; Bash exits a script only if one of the <small>POSIX</small> special builtins fails, and only for certain failures, as enumerated in the <small>POSIX</small> standard. 仅当其中一个 <small>POSIX</small>仅适用于某些故障，如 <small>POSIX</small>如果任何内置函数失败，SVR4.2 shell 将退出脚本;Bash 退出 特殊内置函数失败时才使用脚本，并且 标准中列举的那样。
-   The SVR4.2 shell behaves differently when invoked as `jsh` (it turns on job control). SVR4.2 shell 在作为 `jsh` 调用时的行为不同 （它打开作业控制）。

___